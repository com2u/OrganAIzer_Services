{
  "openapi": "3.1.0",
  "info": {
    "title": "OrganAIzer Service",
    "description": "A comprehensive browser-based AI media utility suite providing multiple tools for working with audio, video, text, and images. The service includes YouTube video downloading, text-to-speech generation, speech-to-text transcription, video transcription, AI image generation, LLM integration, and email/calendar integration with Google and Outlook.\n\n## Features\n\n- **YouTube Integration**: Download videos from YouTube URLs\n- **Text-to-Speech**: Generate speech from markdown-formatted text with automatic language detection\n- **Speech-to-Text**: Transcribe audio files or URLs using OpenAI Whisper\n- **Video Transcription**: Extract and transcribe spoken content from video files or YouTube URLs\n- **AI Image Generation**: Generate images from text prompts using Google Gemini API\n- **LLM Integration**: Send prompts to language models and get responses\n- **Google Integration**: Read emails, send emails, and read calendar events\n- **Outlook Integration**: Read emails, send emails, read calendar events, and OAuth authentication\n\n## Authentication\n\nAll endpoints under `/api/*` require an API key passed via the `X-API-Key` header. The key must be provided in the request headers.\n\n## Base URL\n\n- Local development: `http://localhost:8000`\n- Production: `https://api.organaizer.com`\n\n## Rate Limiting\n\nThe service implements rate limiting to ensure fair usage. Please refer to the documentation for specific limits.\n\n## Error Handling\n\nThe API returns standard HTTP status codes and JSON error responses with detailed error messages.\n\n## Support\n\nFor detailed documentation, see the [README](https://github.com/com2u/OrganAIzer_Services/blob/main/README.md).",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:8000",
      "description": "Local development server"
    },
    {
      "url": "https://api.organaizer.com",
      "description": "Production server"
    }
  ],
  "tags": [
    {
      "name": "root",
      "description": "Basic service endpoints"
    },
    {
      "name": "youtube",
      "description": "YouTube video downloading"
    },
    {
      "name": "tts",
      "description": "Text-to-speech generation"
    },
    {
      "name": "stt",
      "description": "Speech-to-text transcription"
    },
    {
      "name": "video-text",
      "description": "Video transcription"
    },
    {
      "name": "text-image",
      "description": "AI image generation"
    },
    {
      "name": "llm",
      "description": "Large Language Model integration"
    },
    {
      "name": "google",
      "description": "Google email and calendar integration"
    },
    {
      "name": "outlook",
      "description": "Outlook email and calendar integration"
    }
  ],
  "externalDocs": {
    "description": "Project documentation and source code",
    "url": "https://github.com/com2u/OrganAIzer_Services"
  },
  "paths": {
    "/": {
      "get": {
        "tags": ["root"],
        "summary": "Root endpoint",
        "description": "Returns a welcome message and service information",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "OrganAIzer Service API"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": ["root"],
        "summary": "Health check",
        "description": "Returns the health status of the service",
        "operationId": "health__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "ok"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/youtube/download": {
      "post": {
        "tags": ["youtube"],
        "summary": "Download video",
        "description": "Download a video from YouTube URL",
        "operationId": "download_video_api_youtube_download_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DownloadRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/api/tts/generate": {
      "post": {
        "tags": ["tts"],
        "summary": "Generate speech",
        "description": "Generate speech from markdown-formatted text with language auto-detection",
        "operationId": "generate_speech_api_tts_generate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GenerateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/api/tts/audio/{audio_id}": {
      "get": {
        "tags": ["tts"],
        "summary": "Get audio",
        "description": "Download generated audio file by ID",
        "operationId": "get_audio_api_tts_audio__audio_id__get",
        "parameters": [
          {
            "name": "audio_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Audio Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "audio/mpeg": {}
            }
          },
          "404": {
            "description": "Audio not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/stt/transcribe": {
      "post": {
        "tags": ["stt"],
        "summary": "Transcribe audio",
        "description": "Transcribe audio file or URL to text using OpenAI Whisper",
        "operationId": "transcribe_api_stt_transcribe_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_transcribe_api_stt_transcribe_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TranscribeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/api/video-text/transcribe": {
      "post": {
        "tags": ["video-text"],
        "summary": "Transcribe video",
        "description": "Extract and transcribe spoken content from video file or YouTube URL",
        "operationId": "transcribe_api_video_text_transcribe_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_transcribe_api_video_text_transcribe_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TranscribeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/api/text-image/generate": {
      "post": {
        "tags": ["text-image"],
        "summary": "Generate images",
        "description": "Generate AI images from text prompt using Google Gemini API",
        "operationId": "generate_api_text_image_generate_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_generate_api_text_image_generate_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "images": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "url": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/api/llm": {
      "post": {
        "tags": ["llm"],
        "summary": "Get LLM response",
        "description": "Send a prompt to a language model and get a response",
        "operationId": "get_llm_response_api_llm_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LLMRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LLMResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/api/google/emails": {
      "get": {
        "tags": ["google"],
        "summary": "Read emails",
        "description": "Read emails from Google account",
        "operationId": "get_emails_api_google_emails_get",
        "parameters": [
          {
            "name": "max_results",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "title": "Max Results"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "emails": {
                      "type": "array",
                      "items": {}
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/api/google/emails/send": {
      "post": {
        "tags": ["google"],
        "summary": "Send email",
        "description": "Send an email via Google account",
        "operationId": "send_email_api_google_emails_send_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendEmailRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "result": {}
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/api/google/calendar/events": {
      "get": {
        "tags": ["google"],
        "summary": "Read calendar events",
        "description": "Read calendar events from Google account",
        "operationId": "get_calendar_events_api_google_calendar_events_get",
        "parameters": [
          {
            "name": "max_results",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "title": "Max Results"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "events": {
                      "type": "array",
                      "items": {}
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/api/outlook/emails": {
      "get": {
        "tags": ["outlook"],
        "summary": "Read emails",
        "description": "Read emails from Outlook account",
        "operationId": "get_emails_api_outlook_emails_get",
        "parameters": [
          {
            "name": "max_results",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "title": "Max Results"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "emails": {
                      "type": "array",
                      "items": {}
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/api/outlook/emails/send": {
      "post": {
        "tags": ["outlook"],
        "summary": "Send email",
        "description": "Send an email via Outlook account",
        "operationId": "send_email_api_outlook_emails_send_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendEmailRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/api/outlook/calendar/events": {
      "get": {
        "tags": ["outlook"],
        "summary": "Read calendar events",
        "description": "Read calendar events from Outlook account",
        "operationId": "get_calendar_events_api_outlook_calendar_events_get",
        "parameters": [
          {
            "name": "max_results",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "title": "Max Results"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "events": {
                      "type": "array",
                      "items": {}
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/api/outlook/auth": {
      "get": {
        "tags": ["outlook"],
        "summary": "Get authentication info",
        "description": "Initiate Outlook OAuth authentication and return device code info",
        "operationId": "get_auth_info_api_outlook_auth_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user_code": {
                      "type": "string"
                    },
                    "verification_uri": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "DownloadRequest": {
        "type": "object",
        "required": ["url"],
        "properties": {
          "url": {
            "type": "string",
            "title": "Url",
            "description": "YouTube video URL"
          }
        },
        "title": "DownloadRequest"
      },
      "GenerateRequest": {
        "type": "object",
        "required": ["text_md"],
        "properties": {
          "text_md": {
            "type": "string",
            "title": "Text Md",
            "description": "Markdown-formatted text to convert to speech"
          }
        },
        "title": "GenerateRequest"
      },
      "GenerateResponse": {
        "type": "object",
        "required": ["text_normalized", "language", "audio_url"],
        "properties": {
          "text_normalized": {
            "type": "string",
            "title": "Text Normalized",
            "description": "Normalized plain text"
          },
          "language": {
            "type": "string",
            "title": "Language",
            "description": "Detected language code"
          },
          "audio_url": {
            "type": "string",
            "title": "Audio Url",
            "description": "URL to download the generated audio"
          }
        },
        "title": "GenerateResponse"
      },
      "Body_transcribe_api_stt_transcribe_post": {
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File",
            "description": "Audio file to transcribe"
          },
          "audio_url": {
            "type": "string",
            "title": "Audio Url",
            "description": "URL of audio to transcribe"
          }
        },
        "title": "Body_transcribe_api_stt_transcribe_post"
      },
      "Body_transcribe_api_video_text_transcribe_post": {
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File",
            "description": "Video file to transcribe"
          },
          "video_url": {
            "type": "string",
            "title": "Video Url",
            "description": "URL of video to transcribe (e.g., YouTube URL)"
          }
        },
        "title": "Body_transcribe_api_video_text_transcribe_post"
      },
      "Body_generate_api_text_image_generate_post": {
        "type": "object",
        "required": ["prompt"],
        "properties": {
          "prompt": {
            "type": "string",
            "title": "Prompt",
            "description": "Text prompt for image generation"
          },
          "images": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "binary"
            },
            "title": "Images",
            "description": "Optional reference images"
          }
        },
        "title": "Body_generate_api_text_image_generate_post"
      },
      "TranscribeResponse": {
        "type": "object",
        "required": ["text", "language"],
        "properties": {
          "text": {
            "type": "string",
            "title": "Text",
            "description": "Transcribed text"
          },
          "language": {
            "type": "string",
            "title": "Language",
            "description": "Detected language code"
          },
          "segments": {
            "type": "array",
            "items": {},
            "title": "Segments",
            "default": [],
            "description": "Transcription segments with timestamps"
          }
        },
        "title": "TranscribeResponse"
      },
      "LLMRequest": {
        "type": "object",
        "required": ["prompt"],
        "properties": {
          "prompt": {
            "type": "string",
            "title": "Prompt",
            "description": "The prompt to send to the LLM"
          },
          "model": {
            "type": "string",
            "title": "Model",
            "default": "openrouter/auto",
            "description": "The model to use (default: openrouter/auto)"
          }
        },
        "title": "LLMRequest"
      },
      "LLMResponse": {
        "type": "object",
        "properties": {
          "response": {
            "type": "string",
            "title": "Response",
            "description": "The LLM's response to the prompt"
          }
        },
        "title": "LLMResponse"
      },
      "SendEmailRequest": {
        "type": "object",
        "required": ["to", "subject", "body"],
        "properties": {
          "to": {
            "type": "string",
            "title": "To",
            "description": "Recipient email address"
          },
          "subject": {
            "type": "string",
            "title": "Subject",
            "description": "Email subject"
          },
          "body": {
            "type": "string",
            "title": "Body",
            "description": "Email body content"
          }
        },
        "title": "SendEmailRequest"
      },
      "ReadEmailsRequest": {
        "type": "object",
        "properties": {
          "max_results": {
            "type": "integer",
            "title": "Max Results",
            "default": 10,
            "description": "Maximum number of emails to return"
          }
        },
        "title": "ReadEmailsRequest"
      },
      "ReadCalendarRequest": {
        "type": "object",
        "properties": {
          "max_results": {
            "type": "integer",
            "title": "Max Results",
            "default": 10,
            "description": "Maximum number of calendar events to return"
          }
        },
        "title": "ReadCalendarRequest"
      },
      "HTTPValidationError": {
        "type": "object",
        "properties": {
          "detail": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "title": "Detail"
          }
        },
        "title": "HTTPValidationError"
      },
      "ValidationError": {
        "type": "object",
        "required": ["loc", "msg", "type"],
        "properties": {
          "loc": {
            "type": "array",
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "APIKeyHeader": {
        "type": "apiKey",
        "in": "header",
        "name": "X-API-Key",
        "description": "API key for authentication. Required for all /api/* endpoints."
      }
    }
  }
}